# rag 实现流程
1. 分析处理文档，将各种格式(pdf,word,图片)的文件进行处理,提取其中的文本并将其分为块然后生成嵌入向量存入Elasticsearch中，并详细记录每个chunk块的信息。

2. 对于用户的问题先取出对应的文本并对文本编码生成对应的嵌入向量，然后使用多路召回（全文检索+语义检索）从Elasticsearch中检索得到候选的k个文档。

3. 对这k个候选文档进行重排序。

4. 将这重排序后的k个文档与用户的问题一起构建提示词输入给大模型。

5. 对大模型的输出进行精简，保留需要的内容
